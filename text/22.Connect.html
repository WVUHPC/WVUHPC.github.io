

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Connect to the cluster &mdash; WVU-RC 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Command Line Interface" href="23.CommandLine.html" />
    <link rel="prev" title="Getting Access" href="21.GettingAccess.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="20.QuickStart.html">Quick Start</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="21.GettingAccess.html">Getting Access</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Connect to the cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-a-ssh-client">Get a SSH Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-to-a-cluster-via-ssh">Connecting to a cluster via SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logging-in">Logging In</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logging-out">Logging Out</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="23.CommandLine.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="24.EditFiles.html">Editing Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="25.Storage.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="26.JobSubmission.html">Job Submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="27.TransferFiles.html">Transferring Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUser.html">For Basic Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="40.AdvancedUser.html">For Advanced Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="50.Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="60.Administrators.html">For Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="70.DomainSpecific.html">Domain Specific Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="20.QuickStart.html">Quick Start</a> &raquo;</li>
        
      <li>Connect to the cluster</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/22.Connect.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="connect-to-the-cluster">
<span id="qs-connect"></span><h1>Connect to the cluster<a class="headerlink" href="#connect-to-the-cluster" title="Permalink to this headline">¶</a></h1>
<p>A HPC cluster is a big computing infrastructure intended for concurrent usage by many users. A desktop, laptop or even workstations are intended for a single user at a time. In general Graphical User Interfaces consume important amount of resources even when the user is not making use of them, that is one of the reasons why is common practice in HPC clusters to only allow remote shell access and limited capabilities for GUI applications.</p>
<p>Due to security reasons, HPC clusters are intended to be accesed using a secure shell, the standard secure shell nowadays is called SSH. Secure Shell (SSH) is a cryptographic network protocol for operating network services securely over an unsecured network such as internet. The typical application of SSH in HPC is to provide remote command-line login and remote command execution.</p>
<p>SSH was created as replacement to Telnet and old method for remote communication with no capability of encryption. This kind of access have been disabled and will not work on any cluster.</p>
<p>In other to connect to any of our clusters you need a <em>username</em>, your name as user of the cluster.
You should have obtained that <em>username</em> with your <em>WVU Login account</em>
The next step is to use a SSH client to connect to one of our clusters.</p>
<div class="section" id="get-a-ssh-client">
<h2>Get a SSH Client<a class="headerlink" href="#get-a-ssh-client" title="Permalink to this headline">¶</a></h2>
<p>An SSH Client is a piece of software that allow you to run a remote session on a computer, over a network using a secure connection based on the SSH protocol.</p>
<p>A SSH client is usually installed on MacOS and most Unix/Linux distributions so if you are using one of those Operating Systems you do not need to install anything.</p>
<p>Windows users will have to acquire an SSH client.
PuTTY is a free implementation of SSH for Windows platforms, it comes along with an xterm terminal emulator.</p>
<p>Go to <a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTy</a> to know more about the product or download it directly from <a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY Download</a>.</p>
<p>PuTTY is not the only SSH client available for Windows. See for example <a class="reference external" href="https://en.wikipedia.org/wiki/Comparison_of_SSH_clients">Comparison of SSH clients</a> for several alternatives.</p>
</div>
<div class="section" id="connecting-to-a-cluster-via-ssh">
<h2>Connecting to a cluster via SSH<a class="headerlink" href="#connecting-to-a-cluster-via-ssh" title="Permalink to this headline">¶</a></h2>
<p>On MacOS and Unix/Linux, open a terminal shell and type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$&gt; ssh &lt;username&gt;@&lt;hostname&gt;
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$&gt; ssh -Y &lt;username&gt;@&lt;hostname&gt;
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">&lt;username&gt;</span></code> is your <em>WVU Login account</em> username and <code class="docutils literal"><span class="pre">&lt;hostname&gt;</span></code> is the name of the cluster you wish to connect to.
The -Y option is used to forward X windows applications running on the server to be forwarded to your local machine.
Remember that the <code class="docutils literal"><span class="pre">$&gt;</span></code> symbols above are there to indicate a command on the terminal, you should not enter those initial characters.</p>
<p>We currently have two clusters <em>Mountaineer</em> and <em>Spruce Knob</em> the hostnames are:</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">WVU’s High Performance Computer (HPC) Clusters</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="50%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Cluster</th>
<th class="head">Hostname</th>
<th class="head">Status</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Mountaineer</strong></td>
<td><em>mountaineer.hpc.wvu.edu</em></td>
<td>To be decommissioned by the end of 2018</td>
</tr>
<tr class="row-odd"><td><strong>Spruce Knob</strong></td>
<td><em>spruce.hpc.wvu.edu</em></td>
<td>Operational</td>
</tr>
<tr class="row-even"><td><strong>Thorny Flat</strong></td>
<td><em>thorny.hpc.wvu.edu</em></td>
<td>To be deployed by the end of 2018</td>
</tr>
</tbody>
</table>
<p>If you want to connect to Spruce use the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ ssh &lt;username&gt;@spruce.hpc.wvu.edu
</pre></div>
</div>
<p>If you are using Windows and PuTTy, click on PuTTy Icon and enter the hosname</p>
<img alt="../_images/puttystartup.png" src="../_images/puttystartup.png" />
<p>If you want to get X11 forwarding, ie remote windows popping on your local machine, enable X11 forwarding as shown below.</p>
<img alt="../_images/putty_xforward.png" src="../_images/putty_xforward.png" />
</div>
<div class="section" id="logging-in">
<h2>Logging In<a class="headerlink" href="#logging-in" title="Permalink to this headline">¶</a></h2>
<p>When your SSH access is granted, you will be prompted with a login message
(below is the Spruce Knob login message):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$&gt; ssh &lt;username&gt;@spruce.hpc.wvu.edu

------------------------------------------------------------------------------
                   Welcome to the Spruce Knob Supercomputer
            Shared Research Facilities, West Virginia University
------------------------------------------------------------------------------
              ** Unauthorized use/access is prohibited. **

The actual or attempted unauthorized access, use, or modification of this
system is strictly prohibited. Unauthorized users may be subject to
institutional disciplinary proceedings and/or criminal and civil penalties under
state, federal, or other applicable domestic and foreign laws. The use of this
system is monitored and recorded for administrative and security reasons. Anyone
accessing this system expressly consents to such monitoring and is advised that
if monitoring reveals possible evidence of criminal activity, the Institution
may provide the evidence of such activity to law enforcement officials.

In addition, users must ensure data that is protected by Federal
security or privacy laws (e.g., HIPAA, ITAR, FERPA, classified information, etc.)
is not stored on this system. This system is not intended to meet the enhanced
security required by those laws or regulations.

By logging on to this system, you acknowledge your awareness of and acceptance
of with WVU&#39;s Acceptable Use Policies and you agree not to store any of the
before mentioned protected data.

WVU Acceptable Use of Data and Technology Resources Policies:
http://it.wvu.edu/governance/standards-and-procedures/all-standards/au
------------------------------------------------------------------------------
Password:
</pre></div>
</div>
<p>Following this message, you will be prompted for your password.  Type in your password and you will be given a command prompt. If you are out of WVU network you will be asked to provide Two-Factor Authentication. You can know more about this on <a class="reference external" href="https://wvu.teamdynamix.com/TDClient/KB/?CategoryID=3626">Two-Factor Authentication (Duo) Articles</a></p>
<p>Once your identity is confirmed the login procedure will resume:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Last login: Thu Nov  1 09:23:22 2018 from 157.182.62.87
______________________________________________________________________________

Questions and Problem Reports:
-  Email:     helpdesk@hpc.wvu.edu
-  Help Desk Ticket System:   https://helpdesk.hpc.wvu.edu

Additional information on Spruce Knob:
-  Documentation:  http://wiki.hpc.wvu.edu
-  HPC Website:    http://sharedresearchfacilities.wvu.edu/facilities/hpc
______________________________________________________________________________

Further system related information:

- Spruce Knob utilizes the TORQUE/PBS resource manager to manage compute
   resources.

    To run an interactive shell, issue:
          qsub -I -q queue_name

    To submit a batch job, issue:       qsub job_script.sh
    To show all queued jobs, issue:     showq or qstat
    To check a job status:            checkjob &lt;jobId&gt;
    To kill a queued job, issue:        canceljob &lt;jobId&gt;

    Example PBS job scripts are located at:
    http://wiki.hpc.wvu.edu/hpc_wiki/index.php/Sample_Job_Scripts

    The following man pages provide helpful pbs information:
      man pbs_resources_linux (How-to request cluster resources)
      man qsub
      man qstat

- Spruce Knob utilizes Environment Modules to help manage different software
   packages available on the cluster.  &quot;module avail&quot; shows the available
   modules.

- Spruce has two file systems available to users:
   - $HOME (permanent storage that is backed up via snapshots, 10GB Limit)
   - $SCRATCH (temporary storage that is NOT backed up, current allocation 130 TB)

- Please acknowledge use of this Super Computing System (Spruce Knob) at WVU,
   which are funded in part by the National Science Foundation EPSCoR
   Research Infrastructure Improvement Cooperative Agreement #1003907, the
   state of West Virginia (WVEPSCoR via the Higher Education Policy Commission)
   and WVU, in your publications produced using these resources.
_______________________________________________________________________________

Recent Updates:

- 2018.05.18 - Completed OS and server updates across entire system.
</pre></div>
</div>
<p>At this point you will get a terminal prompt such as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;username&gt;@srih0001:~$
</pre></div>
</div>
<p>All the commands executed from now on are happening on a remote machine, the Spruce Knob <em>head node</em>, this is the place were most of your direct interaction with the cluster happens.</p>
</div>
<div class="section" id="logging-out">
<h2>Logging Out<a class="headerlink" href="#logging-out" title="Permalink to this headline">¶</a></h2>
<p>Logging out of a cluster can be done with the exit command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$&gt; exit
</pre></div>
</div>
<p>The exit command will attempt to terminate any process running on the head.
In some cases, you will get an error that jobs are either currently running or currently stopped.  You can view stopped jobs using the jobs command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$&gt; jobs -l
[1]+ 3325 Stopped            vim script56.py
</pre></div>
</div>
<p>The output of jobs -l will give you the job PID number (in this case 3325) and
the command (vim script56.py).  To kill jobs preventing successful logout,
use the kill command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$&gt; kill -s 9 3325
</pre></div>
</div>
<p>Once all jobs are terminated, the exit command will close the connection to host.
On section <a class="reference internal" href="26.JobSubmission.html#qs-job-submission"><span class="std std-ref">Job Submission</span></a> we will explain how to submit jobs on the queue system. Jobs on the queue system are not killed when you log out of the head node.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="23.CommandLine.html" class="btn btn-neutral float-right" title="Command Line Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="21.GettingAccess.html" class="btn btn-neutral" title="Getting Access" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Guillermo Avendano-Franco

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>