

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing Packages in User Locations &mdash; WVU-RC 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="next" title="Miniconda" href="44.Miniconda.html" />
    <link rel="prev" title="Singularity Containers" href="42.SingularityContainers.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> WVU-RC
          

          
            
            <img src="../_static/ResearchComputing.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="10.Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="20.QuickStart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="30.BasicUser.html">For Basic Users</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="40.AdvancedUser.html">For Advanced Users</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="41.Conda.html">Conda and BioConda</a></li>
<li class="toctree-l2"><a class="reference internal" href="42.Singularity.html">Singularity Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="42.SingularityContainers.html">Singularity Containers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Installing Packages in User Locations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview-gnu-build-system">Overview: GNU Build System</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-directory-structure">Setting up the Directory Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-configure-stage">The Configure Stage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-make-build-stage">The Make/Build Stage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-install-stage">The Install Stage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#additional-documentation">Additional Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="44.Miniconda.html">Miniconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="45.MPIUser.html">Using MPI on RC HPC Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="46.Hadoop.html">Executing HADOOP jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="47.Python.html">Python Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="48.Python.html">Python and scientific libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="48.Pythonvenv.html">Python Virtual Environments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="50.Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="60.Administrators.html">For Administrators</a></li>
<li class="toctree-l1"><a class="reference internal" href="70.DomainSpecific.html">Domain Specific Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="80.ClusterSpecific.html">Clusters Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="90.References.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WVU-RC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="40.AdvancedUser.html">For Advanced Users</a> &raquo;</li>
        
      <li>Installing Packages in User Locations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/text/43.UserInstallation.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-packages-in-user-locations">
<h1>Installing Packages in User Locations<a class="headerlink" href="#installing-packages-in-user-locations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview-gnu-build-system">
<h2>Overview: GNU Build System<a class="headerlink" href="#overview-gnu-build-system" title="Permalink to this headline">¶</a></h2>
<p>To install packages on GNU/Linux systems, packages that are programmed
in C/C++ or other compiled languages need to be compiled and installed.
A large majority of these packages will use the GNU Build system, which
can be broken into three distinct stages: 1) Configuring the package, 2)
Building the package and 3) installing the package. These three stages
are controlled by two programs: &#8216;configure&#8217; and &#8216;make&#8217;. &#8216;make&#8217; is a
Linux utility that is pre-installed on all Linux systems. While
&#8216;configure&#8217; will be come with the package as it provides package
specific information to the &#8216;make&#8217; utility. Installing these packages
can be done in three steps, but user specific options will need to be
given to make sure the package is installed correctly. This page will
provide instructions on how to build these packages without superuser
privileges.</p>
<div class="section" id="setting-up-the-directory-structure">
<h3>Setting up the Directory Structure<a class="headerlink" href="#setting-up-the-directory-structure" title="Permalink to this headline">¶</a></h3>
<p>Before you can start the build/install process, you need to set up the
directory structure. There are many different ideologies and principles
on how to do this. Here, I will show only the strategy we use on the
Research Computing clusters to install and manage software. Throughout
this page, I&#8217;m going to use the package name &#8216;example_pkg-1.4.7.tar.gz&#8217;
to demonstrate the commands. This package naming style is very common,
and will most likely be the naming convention you encounter.</p>
<p>The directory structure we use, is to have a parent directory for the
package name, and then three subsequent directories named &#8216;build&#8217;,
&#8216;source&#8217;, and &#8216;install&#8217;. This directory topology allows us to
distinguish the source and build trees from each other (more on what
this means below), and keep versions in the install directory. That way,
if you upgrade or change versions of software, all versions of the same
software package can be located in the same parent directory. In our
example, this directory structure can be made using:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>mkdir example_pkg
cd example_pkg
mkdir build source install
</pre></div>
</div>
<p>You then move the tarball into the source directory, and extract the
files:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>mv example_pkg-1.4.7.tar.gz example_pkg/source
cd example_pkg/source
tar xzvf example_pkg-1.4.7.tar.gz
</pre></div>
</div>
<p>This should create the directory example_pkg-1.4.7, and this extracted
directory is called the &#8216;source tree&#8217; since it contains only source
files and nothing compiled or built.</p>
</div>
<div class="section" id="the-configure-stage">
<h3>The Configure Stage<a class="headerlink" href="#the-configure-stage" title="Permalink to this headline">¶</a></h3>
<p>Once the directory structure is set up, we now have to configure the
build tree, to compile and install the software package. This is done by
running the &#8216;configure&#8217; script. There are two general steps of
configure. First, you need to load the appropriate dependency
environments. Second, you need to tell configure where you want to
install the software.</p>
<p>On most systems, you will not have to load dependency environments,
however, on you do on Research Computing clusters; and this will be the
norm for almost all High Performance Computing clusters. Loading
dependency environments are done through <a class="reference external" href="UsingModulefiles">module
files</a>. The dependencies for each particular
package will be different, but they should be listed within the
installation manual either on the package website or within the
readme/install file. The readme/install file is almost always within the
top directory of the extracted package directory as README and/or
INSTALL. For example, it might be example_pkg-1.4.7/README in our
example.</p>
<p>With the correct module files loaded, you now can run the configure
script. You will want to provide the &#8216;&#8211;prefix&#8217; option to tell configure
where to install the software. You will additionally, want to run the
configure script from the build directory that we set up earlier. This
is good practice, and allows easy cleaning (what is referred to as VPATH
building).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>cd example_pkg/build
mkdir 1.4.7
cd 1.4.7
../../source/example_pkg-1.4.7/configure --prefix=/users/username/example_pkg/install/1.4.7
</pre></div>
</div>
<p>This command will tell configure to install the binaries, libraries,
documentation, etc.. in /users/username/example_pkg/install/1.4.7
directory. The configure process will output a large amount of package
information to the screen. And if the correct dependencies are loaded
and the package is well built, this process should complete without
error. If not, it&#8217;s almost certainly because of a missing dependency. If
you do not understand the error (most will be missing package &#8216;XXYY&#8217;),
and you need help to resolve it, please use our
<a class="reference external" href="GettingHelp">helpdesk</a> ticket system to request help.</p>
</div>
<div class="section" id="the-make-build-stage">
<h3>The Make/Build Stage<a class="headerlink" href="#the-make-build-stage" title="Permalink to this headline">¶</a></h3>
<p>If the configure step finishes without error. The Make/Build step can be
completed with the single command from within the build directory
(directory you ran configure in):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
</div>
<div class="section" id="the-install-stage">
<h3>The Install Stage<a class="headerlink" href="#the-install-stage" title="Permalink to this headline">¶</a></h3>
<p>If the configure step finishes without error, it is almost certain that
the make step will finish (unless the package maintainers incorrectly
built the configure script). Therefore, the install step can be
completed with the single command. Again from within the build
directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>make install
</pre></div>
</div>
<p>This command will put all the binaries, libraries, documentation
wherever you specified using the &#8211;prefix option.</p>
</div>
</div>
<div class="section" id="additional-documentation">
<h2>Additional Documentation<a class="headerlink" href="#additional-documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.gnu.org/software/autoconf/manual/index.html">GNU Autoconf
Manual</a></li>
<li><a class="reference external" href="https://www.gnu.org/software/automake/manual/">GNU Automake
Manual</a></li>
<li><a class="reference external" href="https://www.gnu.org/software/make/manual/">GNU Make Manual</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="44.Miniconda.html" class="btn btn-neutral float-right" title="Miniconda" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="42.SingularityContainers.html" class="btn btn-neutral" title="Singularity Containers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Guillermo Avendano-Franco

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.0',
              LANGUAGE:'',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>